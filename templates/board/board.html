{% extends 'base.html' %}
{% block content %}
<div class="container">
<table class="table table-hover">
    <thead>
    <tr class="thead-dark"> <!-- thead에 색 입히는 코드 수정 - 정연 -->
        <th>번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>날짜</th>
    </tr>
    </thead>
    <tbody>
    {% for r in datas %}
    <tr>
        <td onClick="location.href='{{url_for('get', idx=r[0])}}'">{{r[0]}}</td>
        <td onClick="location.href='{{url_for('get', idx=r[0])}}'">{{r[1]}}</td>
        <td onClick="location.href='{{url_for('get', idx=r[0])}}'">{{r[4]}}</td>
        <td onClick="location.href='{{url_for('get', idx=r[0])}}'">{{r[2]}}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
    <a  class="btn btn-warning float-right" href="{{url_for('board_write')}}" >글쓰기</a>
    <!-- 페이지네이션을 위한 코드 시작 -->
    <div class="text-center">
        <ul class="pagination" style="justify-content: center">
        {% if block_start - 1 > 0 %}
            <li class="page-item"><a class="page-link" href="{{url_for('board', page=block_start - 1)}}">Previous</a></li>
        {% endif %}

        {% for i in range(block_start, block_end + 1)%}
        <!-- 데이터가 존재하지 않는 페이지는 화면에 나타내지 않기 위한 조건문 -->
            {% if i > last_page_num %}

            {% else %}
                {% if i == page %}
                    <li class="page-item active"><a class="page-link" href="#">{{ i }}</a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="{{url_for('board', page=i)}}">{{ i }}</a></li>
                {% endif %}
            {% endif %}
        {% endfor %}

        {% if block_end < last_page_num %}
            <li class="page-item"><a class="page-link" href="{{url_for('board', page=block_end + 1)}}">Next</a></li>
        {% endif %}
        </ul>
    </div>
<!-- 페이지네이션을 위한 코드 끝 -->
</div>
{% endblock %}